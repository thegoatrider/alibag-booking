{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/goatr/alibag-booking/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,8LAAY"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/goatr/alibag-booking/app/dashboard/owner/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nexport default function OwnerDashboard() {\r\n  const params = useSearchParams();\r\n  const ownerId = params.get(\"owner_id\");\r\n\r\n  const [properties, setProperties] = useState<any[]>([]);\r\n  const [selectedProperty, setSelectedProperty] = useState(\"\");\r\n  const [leads, setLeads] = useState<any[]>([]);\r\n\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [checkIn, setCheckIn] = useState(\"\");\r\n  const [checkOut, setCheckOut] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (ownerId) fetchProperties();\r\n  }, [ownerId]);\r\n\r\n  const fetchProperties = async () => {\r\n    const { data } = await supabase\r\n      .from(\"properties\")\r\n      .select(\"*\")\r\n      .eq(\"owner_id\", ownerId);\r\n\r\n    setProperties(data || []);\r\n  };\r\n\r\n  const fetchLeads = async (pid: string) => {\r\n    const { data } = await supabase\r\n      .from(\"leads\")\r\n      .select(\"*\")\r\n      .eq(\"property_id\", pid)\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    setLeads(data || []);\r\n  };\r\n\r\n  const createLead = async () => {\r\n    if (!phone || !checkIn || !checkOut || !selectedProperty)\r\n      return alert(\"Fill all fields\");\r\n\r\n    await supabase.from(\"leads\").insert({\r\n      property_id: selectedProperty,\r\n      phone,\r\n      check_in: checkIn,\r\n      check_out: checkOut,\r\n      status: \"enquired\",\r\n      source: \"owner\",\r\n    });\r\n\r\n    setPhone(\"\");\r\n    setCheckIn(\"\");\r\n    setCheckOut(\"\");\r\n    fetchLeads(selectedProperty);\r\n  };\r\n\r\n  if (!ownerId) return <p className=\"p-10\">No owner selected</p>;\r\n\r\n  return (\r\n    <main className=\"p-10 max-w-4xl space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Owner Dashboard</h1>\r\n\r\n      <select\r\n        className=\"border p-2 w-full\"\r\n        value={selectedProperty}\r\n        onChange={(e) => {\r\n          setSelectedProperty(e.target.value);\r\n          fetchLeads(e.target.value);\r\n        }}\r\n      >\r\n        <option value=\"\">Select Property</option>\r\n        {properties.map((p) => (\r\n          <option key={p.id} value={p.id}>\r\n            {p.name}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      {selectedProperty && (\r\n        <>\r\n          <div className=\"border p-6 rounded space-y-3\">\r\n            <h2 className=\"font-semibold\">New Enquiry</h2>\r\n\r\n            <input\r\n              className=\"border p-2 w-full\"\r\n              placeholder=\"Phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value)}\r\n            />\r\n\r\n            <input\r\n              type=\"date\"\r\n              className=\"border p-2 w-full\"\r\n              value={checkIn}\r\n              onChange={(e) => setCheckIn(e.target.value)}\r\n            />\r\n\r\n            <input\r\n              type=\"date\"\r\n              className=\"border p-2 w-full\"\r\n              value={checkOut}\r\n              onChange={(e) => setCheckOut(e.target.value)}\r\n            />\r\n\r\n            <button\r\n              onClick={createLead}\r\n              className=\"bg-black text-white px-4 py-2\"\r\n            >\r\n              Send Property Link\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            {leads.map((l) => (\r\n              <div key={l.id} className=\"border p-4 rounded\">\r\n                {l.phone} | {l.status}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,qJAAe;IAC9B,MAAM,UAAU,OAAO,GAAG,CAAC;IAE3B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACtD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAE5C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;IACf,GAAG;QAAC;KAAQ;IAEZ,MAAM,kBAAkB;QACtB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAQ,CAC5B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY;QAElB,cAAc,QAAQ,EAAE;IAC1B;IAEA,MAAM,aAAa,OAAO;QACxB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAQ,CAC5B,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,eAAe,KAClB,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,SAAS,QAAQ,EAAE;IACrB;IAEA,MAAM,aAAa;QACjB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,YAAY,CAAC,kBACtC,OAAO,MAAM;QAEf,MAAM,2HAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC;YAClC,aAAa;YACb;YACA,UAAU;YACV,WAAW;YACX,QAAQ;YACR,QAAQ;QACV;QAEA,SAAS;QACT,WAAW;QACX,YAAY;QACZ,WAAW;IACb;IAEA,IAAI,CAAC,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAO;;;;;;IAEzC,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,8OAAC;gBACC,WAAU;gBACV,OAAO;gBACP,UAAU,CAAC;oBACT,oBAAoB,EAAE,MAAM,CAAC,KAAK;oBAClC,WAAW,EAAE,MAAM,CAAC,KAAK;gBAC3B;;kCAEA,8OAAC;wBAAO,OAAM;kCAAG;;;;;;oBAChB,WAAW,GAAG,CAAC,CAAC,kBACf,8OAAC;4BAAkB,OAAO,EAAE,EAAE;sCAC3B,EAAE,IAAI;2BADI,EAAE,EAAE;;;;;;;;;;;YAMpB,kCACC;;kCACE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAgB;;;;;;0CAE9B,8OAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0CAG1C,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;0CAG5C,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;0CAG7C,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;kCAKH,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;gCAAe,WAAU;;oCACvB,EAAE,KAAK;oCAAC;oCAAI,EAAE,MAAM;;+BADb,EAAE,EAAE;;;;;;;;;;;;;;;;;;AAS5B"}}]
}