{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/goatr/alibag-booking/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);\r\n"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,iMAAY"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["C:/Users/goatr/alibag-booking/app/dashboard/owner/PropertyCalendar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nexport default function PropertyCalendar({ propertyId }: { propertyId: string }) {\r\n  const [month, setMonth] = useState(new Date());\r\n  const [days, setDays] = useState<any[]>([]);\r\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\r\n  const [rooms, setRooms] = useState<any[]>([]);\r\n  const [blockedRooms, setBlockedRooms] = useState<string[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (propertyId) buildCalendar();\r\n  }, [propertyId, month]);\r\n\r\n  const buildCalendar = async () => {\r\n    const start = new Date(month.getFullYear(), month.getMonth(), 1);\r\n    const end = new Date(month.getFullYear(), month.getMonth() + 1, 0);\r\n\r\n    const result: any[] = [];\r\n\r\n    for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {\r\n      const iso = d.toISOString().split(\"T\")[0];\r\n\r\n      // CONFIRMED BOOKINGS\r\n      const { data: bookings } = await supabase\r\n        .from(\"bookings\")\r\n        .select(\"id\")\r\n        .eq(\"property_id\", propertyId)\r\n        .eq(\"status\", \"confirmed\")\r\n        .lte(\"check_in\", iso)\r\n        .gt(\"check_out\", iso);\r\n\r\n      const bookingIds = (bookings || []).map((b) => b.id);\r\n\r\n      let bookedCount = 0;\r\n      if (bookingIds.length > 0) {\r\n        const { count } = await supabase\r\n          .from(\"booking_rooms\")\r\n          .select(\"id\", { count: \"exact\", head: true })\r\n          .in(\"booking_id\", bookingIds);\r\n\r\n        bookedCount = count || 0;\r\n      }\r\n\r\n      // BLOCKED ROOMS\r\n      const { count: blockedCount } = await supabase\r\n        .from(\"room_blocks\")\r\n        .select(\"id\", { count: \"exact\", head: true })\r\n        .eq(\"date\", iso);\r\n\r\n      result.push({\r\n        date: iso,\r\n        booked: bookedCount,\r\n        blocked: blockedCount || 0,\r\n      });\r\n    }\r\n\r\n    setDays(result);\r\n  };\r\n\r\n  const openDate = async (date: string) => {\r\n    setSelectedDate(date);\r\n\r\n    const { data: roomData } = await supabase\r\n      .from(\"rooms\")\r\n      .select(\"*\")\r\n      .eq(\"property_id\", propertyId)\r\n      .eq(\"is_active\", true);\r\n\r\n    const { data: blocked } = await supabase\r\n      .from(\"room_blocks\")\r\n      .select(\"room_id\")\r\n      .eq(\"date\", date);\r\n\r\n    setRooms(roomData || []);\r\n    setBlockedRooms((blocked || []).map((b) => b.room_id));\r\n  };\r\n\r\n  const blockRoom = async (roomId: string) => {\r\n    if (!selectedDate) return;\r\n\r\n    await supabase.from(\"room_blocks\").insert({\r\n      room_id: roomId,\r\n      date: selectedDate,\r\n    });\r\n\r\n    openDate(selectedDate);\r\n    buildCalendar();\r\n  };\r\n\r\n  const blockAllRooms = async () => {\r\n  if (!selectedDate) return;\r\n\r\n  // 1. Get active rooms\r\n  const { data: activeRooms } = await supabase\r\n    .from(\"rooms\")\r\n    .select(\"id\")\r\n    .eq(\"property_id\", propertyId)\r\n    .eq(\"is_active\", true);\r\n\r\n  if (!activeRooms || activeRooms.length === 0) return;\r\n\r\n  // 2. Get already blocked rooms for that date\r\n  const { data: alreadyBlocked } = await supabase\r\n    .from(\"room_blocks\")\r\n    .select(\"room_id\")\r\n    .eq(\"date\", selectedDate);\r\n\r\n  const blockedSet = new Set(\r\n    (alreadyBlocked || []).map((b) => b.room_id)\r\n  );\r\n\r\n  // 3. Insert only unblocked rooms\r\n  const toInsert = activeRooms\r\n    .filter((r) => !blockedSet.has(r.id))\r\n    .map((r) => ({\r\n      room_id: r.id,\r\n      date: selectedDate,\r\n    }));\r\n\r\n  if (toInsert.length > 0) {\r\n    await supabase.from(\"room_blocks\").insert(toInsert);\r\n  }\r\n\r\n  openDate(selectedDate);\r\n  buildCalendar();\r\n};\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <button\r\n          onClick={() =>\r\n            setMonth(new Date(month.getFullYear(), month.getMonth() - 1))\r\n          }\r\n        >\r\n          ‚Üê\r\n        </button>\r\n\r\n        <h2 className=\"font-semibold\">\r\n          {month.toLocaleString(\"default\", { month: \"long\" })}{\" \"}\r\n          {month.getFullYear()}\r\n        </h2>\r\n\r\n        <button\r\n          onClick={() =>\r\n            setMonth(new Date(month.getFullYear(), month.getMonth() + 1))\r\n          }\r\n        >\r\n          ‚Üí\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-7 gap-2\">\r\n        {days.map((d) => (\r\n          <div\r\n            key={d.date}\r\n            onClick={() => openDate(d.date)}\r\n            className=\"border rounded p-2 cursor-pointer hover:bg-gray-50\"\r\n          >\r\n            <div className=\"font-medium\">\r\n              {new Date(d.date).getDate()}\r\n            </div>\r\n\r\n            <div className=\"text-xs text-gray-700\">\r\n              {d.booked} booked\r\n            </div>\r\n\r\n            <div className=\"text-xs text-red-700\">\r\n  {d.blocked} blocked\r\n</div>\r\n\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {selectedDate && (\r\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white text-black rounded-lg p-6 w-full max-w-lg space-y-4\">\r\n            <h3 className=\"font-semibold text-lg\">{selectedDate}</h3>\r\n\r\n            <button\r\n              onClick={blockAllRooms}\r\n              className=\"bg-black text-white px-4 py-2 rounded\"\r\n            >\r\n              Block Entire Property\r\n            </button>\r\n\r\n            <div className=\"space-y-2\">\r\n              {rooms.map((r) => (\r\n                <div\r\n                  key={r.id}\r\n                  className=\"flex justify-between items-center border p-2 rounded\"\r\n                >\r\n                  <div>\r\n                    {r.name} ‚Äì ‚Çπ{r.price}\r\n                  </div>\r\n\r\n                  {blockedRooms.includes(r.id) ? (\r\n                    <span className=\"text-red-600 text-sm\">\r\n                      Blocked\r\n                    </span>\r\n                  ) : (\r\n                    <button\r\n                      onClick={() => blockRoom(r.id)}\r\n                      className=\"text-sm underline\"\r\n                    >\r\n                      Block\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => setSelectedDate(null)}\r\n              className=\"text-sm underline w-full text-center\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":["useEffect","useState","supabase","PropertyCalendar","propertyId","month","setMonth","Date","days","setDays","selectedDate","setSelectedDate","rooms","setRooms","blockedRooms","setBlockedRooms","buildCalendar","start","getFullYear","getMonth","end","result","d","setDate","getDate","iso","toISOString","split","data","bookings","from","select","eq","lte","gt","bookingIds","map","b","id","bookedCount","length","count","head","in","blockedCount","push","date","booked","blocked","openDate","roomData","room_id","blockRoom","roomId","insert","blockAllRooms","activeRooms","alreadyBlocked","blockedSet","Set","toInsert","filter","r","has","toLocaleString","name","price","includes"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["C:/Users/goatr/alibag-booking/app/dashboard/owner/LeadsTab.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nconst STATUSES = [\"enquired\", \"viewed\", \"shortlisted\", \"booked\", \"dropped\"];\r\n\r\nexport default function LeadsTab({ ownerId }: { ownerId: string }) {\r\n  const [leads, setLeads] = useState<any[]>([]);\r\n  const [properties, setProperties] = useState<any[]>([]);\r\n\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [checkIn, setCheckIn] = useState(\"\");\r\n  const [checkOut, setCheckOut] = useState(\"\");\r\n  const [propertyId, setPropertyId] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchProperties();\r\n    fetchLeads();\r\n  }, []);\r\n\r\n  const fetchProperties = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"properties\")\r\n      .select(\"id,name,slug\")\r\n      .eq(\"owner_id\", ownerId);\r\n\r\n    if (error) {\r\n      console.error(\"PROPERTY FETCH ERROR\", error);\r\n      return;\r\n    }\r\n\r\n    setProperties(data || []);\r\n  };\r\n\r\n  const fetchLeads = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"leads\")\r\n      .select(\"*\")\r\n      .eq(\"owner_id\", ownerId)\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      console.error(\"LEADS FETCH ERROR\", error);\r\n      return;\r\n    }\r\n\r\n    console.log(\"LEADS FETCHED:\", data);\r\n    setLeads(data || []);\r\n  };\r\n\r\n  const createLead = async () => {\r\n    if (!phone || !checkIn || !checkOut || !propertyId) {\r\n      alert(\"Fill all fields\");\r\n      return;\r\n    }\r\n\r\n    const property = properties.find((p) => p.id === propertyId);\r\n    if (!property) {\r\n      alert(\"Property not found\");\r\n      return;\r\n    }\r\n\r\n    // Open WhatsApp FIRST\r\n    const link = `${window.location.origin}/p/${property.slug}?ci=${checkIn}&co=${checkOut}`;\r\n\r\n    const msg = `Thank you for contacting ${property.name} üå¥\r\n\r\nDates: ${checkIn} ‚Üí ${checkOut}\r\n\r\n${link}`;\r\n\r\n    window.open(\r\n      `https://wa.me/91${phone}?text=${encodeURIComponent(msg)}`,\r\n      \"_blank\"\r\n    );\r\n\r\n    // Insert lead\r\n    const { error } = await supabase.from(\"leads\").insert({\r\n  owner_id: ownerId,\r\n  property_id: propertyId,\r\n  phone,\r\n  check_in: checkIn,\r\n  check_out: checkOut,\r\n  status: \"enquired\",\r\n  property_type: \"property\", // or \"hotel\"/\"villa\" later\r\n  source: \"owner\",\r\n});\r\n\r\nif (error) {\r\n  console.error(\"LEAD INSERT ERROR FULL:\", error);\r\n  alert(error.message);\r\n  return;\r\n}\r\n\r\n\r\n    setPhone(\"\");\r\n    setCheckIn(\"\");\r\n    setCheckOut(\"\");\r\n    setPropertyId(\"\");\r\n\r\n    // REFRESH LEADS\r\n    fetchLeads();\r\n  };\r\n\r\n  const updateStatus = async (id: string, status: string) => {\r\n    await supabase.from(\"leads\").update({ status }).eq(\"id\", id);\r\n    fetchLeads();\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* NEW ENQUIRY */}\r\n      <div className=\"border p-4 rounded space-y-2\">\r\n        <h2 className=\"font-semibold\">New Enquiry</h2>\r\n\r\n        <select\r\n          className=\"border p-2 w-full bg-white text-black\"\r\n          value={propertyId}\r\n          onChange={(e) => setPropertyId(e.target.value)}\r\n        >\r\n          <option value=\"\">Select Property</option>\r\n          {properties.map((p) => (\r\n            <option key={p.id} value={p.id}>\r\n              {p.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <input\r\n          className=\"border p-2 w-full bg-white text-black\"\r\n          placeholder=\"Phone\"\r\n          value={phone}\r\n          onChange={(e) => setPhone(e.target.value)}\r\n        />\r\n\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            type=\"date\"\r\n            className=\"border p-2 w-full bg-white text-black\"\r\n            value={checkIn}\r\n            onChange={(e) => setCheckIn(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"date\"\r\n            className=\"border p-2 w-full bg-white text-black\"\r\n            value={checkOut}\r\n            onChange={(e) => setCheckOut(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          onClick={createLead}\r\n          className=\"bg-black text-white px-4 py-2 rounded\"\r\n        >\r\n          Send Property Link\r\n        </button>\r\n      </div>\r\n\r\n      {/* LEADS TABLE */}\r\n      <div className=\"border rounded overflow-hidden\">\r\n        <table className=\"w-full text-sm\">\r\n          <thead className=\"bg-gray-100 text-black\">\r\n            <tr>\r\n              <th className=\"p-2 text-left\">Phone</th>\r\n              <th className=\"p-2 text-left\">Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {leads.length === 0 && (\r\n              <tr>\r\n                <td colSpan={2} className=\"p-4 text-center text-gray-500\">\r\n                  No leads yet\r\n                </td>\r\n              </tr>\r\n            )}\r\n\r\n            {leads.map((l) => (\r\n              <tr key={l.id} className=\"border-t\">\r\n                <td className=\"p-2\">{l.phone}</td>\r\n                <td className=\"p-2\">\r\n                  <select\r\n                    className=\"border p-1 bg-white text-black\"\r\n                    value={l.status}\r\n                    onChange={(e) =>\r\n                      updateStatus(l.id, e.target.value)\r\n                    }\r\n                  >\r\n                    {STATUSES.map((s) => (\r\n                      <option key={s} value={s}>\r\n                        {s}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useEffect","useState","supabase","STATUSES","LeadsTab","ownerId","leads","setLeads","properties","setProperties","phone","setPhone","checkIn","setCheckIn","checkOut","setCheckOut","propertyId","setPropertyId","fetchProperties","fetchLeads","data","error","from","select","eq","console","order","ascending","log","createLead","alert","property","find","p","id","link","window","location","origin","slug","msg","name","open","encodeURIComponent","insert","owner_id","property_id","check_in","check_out","status","property_type","source","message","updateStatus","update","e","target","value","map","length","l","s"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 622, "column": 0}, "map": {"version":3,"sources":["C:/Users/goatr/alibag-booking/app/dashboard/owner/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport PropertyCalendar from \"./PropertyCalendar\";\r\nimport LeadsTab from \"./LeadsTab\";\r\n\r\n// üîí TEMP OWNER LOCK ‚Äî CHANGE LATER\r\nconst OWNER_ID = \"3156a3d2-5abb-45c2-8953-d7ac3f89a408\";\r\n\r\nexport default function OwnerDashboard() {\r\n  const [tab, setTab] = useState<\"leads\" | \"properties\">(\"leads\");\r\n\r\n  const [properties, setProperties] = useState<any[]>([]);\r\n  const [propertyId, setPropertyId] = useState(\"\");\r\n\r\n  const [rooms, setRooms] = useState<any[]>([]);\r\n  const [roomName, setRoomName] = useState(\"\");\r\n  const [roomPrice, setRoomPrice] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchProperties();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (propertyId) fetchRooms(propertyId);\r\n  }, [propertyId]);\r\n\r\n  const fetchProperties = async () => {\r\n    const { data } = await supabase\r\n      .from(\"properties\")\r\n      .select(\"*\")\r\n      .eq(\"owner_id\", OWNER_ID);\r\n\r\n    setProperties(data || []);\r\n  };\r\n\r\n  const fetchRooms = async (pid: string) => {\r\n    const { data } = await supabase\r\n      .from(\"rooms\")\r\n      .select(\"*\")\r\n      .eq(\"property_id\", pid)\r\n      .order(\"created_at\");\r\n\r\n    setRooms(data || []);\r\n  };\r\n\r\n  const addRoom = async () => {\r\n    if (!roomName || !roomPrice || !propertyId) {\r\n      alert(\"Fill all fields\");\r\n      return;\r\n    }\r\n\r\n    await supabase.from(\"rooms\").insert({\r\n      property_id: propertyId,\r\n      name: roomName,\r\n      price: Number(roomPrice),\r\n      is_active: true,\r\n    });\r\n\r\n    setRoomName(\"\");\r\n    setRoomPrice(\"\");\r\n    fetchRooms(propertyId);\r\n  };\r\n\r\n  return (\r\n    <main className=\"p-10 max-w-5xl space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Owner Dashboard</h1>\r\n\r\n      {/* TABS */}\r\n      <div className=\"flex gap-4\">\r\n        <button\r\n          onClick={() => setTab(\"leads\")}\r\n          className={`px-4 py-2 rounded ${\r\n            tab === \"leads\" ? \"bg-black text-white\" : \"border\"\r\n          }`}\r\n        >\r\n          Leads\r\n        </button>\r\n        <button\r\n          onClick={() => setTab(\"properties\")}\r\n          className={`px-4 py-2 rounded ${\r\n            tab === \"properties\" ? \"bg-black text-white\" : \"border\"\r\n          }`}\r\n        >\r\n          Properties\r\n        </button>\r\n      </div>\r\n\r\n      {/* LEADS */}\r\n      {tab === \"leads\" && <LeadsTab ownerId={OWNER_ID} />}\r\n\r\n      {/* PROPERTIES */}\r\n      {tab === \"properties\" && (\r\n        <>\r\n          <select\r\n            className=\"border p-2 w-full bg-white text-black\"\r\n            value={propertyId}\r\n            onChange={(e) => setPropertyId(e.target.value)}\r\n          >\r\n            <option value=\"\">Select Property</option>\r\n            {properties.map((p) => (\r\n              <option key={p.id} value={p.id}>\r\n                {p.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n           <span\r\n  className={`px-2 py-1 rounded text-xs font-medium ${\r\n    l.status === \"booked\"\r\n      ? \"bg-green-600 text-white\"\r\n      : l.status === \"viewed\"\r\n      ? \"bg-blue-600 text-white\"\r\n      : l.status === \"shortlisted\"\r\n      ? \"bg-orange-500 text-white\"\r\n      : l.status === \"dropped\"\r\n      ? \"bg-red-600 text-white\"\r\n      : \"bg-gray-500 text-white\"\r\n  }`}\r\n>\r\n  {l.status}\r\n</span>\r\n\r\n          {propertyId && (\r\n            <>\r\n              <div className=\"border rounded p-6\">\r\n                <PropertyCalendar propertyId={propertyId} />\r\n              </div>\r\n\r\n              <div className=\"border rounded p-6 space-y-4\">\r\n                <h2 className=\"font-semibold\">Rooms</h2>\r\n\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    className=\"border p-2 flex-1 bg-white text-black\"\r\n                    placeholder=\"Room name\"\r\n                    value={roomName}\r\n                    onChange={(e) => setRoomName(e.target.value)}\r\n                  />\r\n                  <input\r\n                    className=\"border p-2 w-32 bg-white text-black\"\r\n                    placeholder=\"Price\"\r\n                    value={roomPrice}\r\n                    onChange={(e) => setRoomPrice(e.target.value)}\r\n                  />\r\n                  <button\r\n                    onClick={addRoom}\r\n                    className=\"bg-black text-white px-4\"\r\n                  >\r\n                    Add\r\n                  </button>\r\n                </div>\r\n\r\n                {rooms.map((r) => (\r\n                  <div key={r.id} className=\"border p-2 rounded\">\r\n                    {r.name} ‚Äì ‚Çπ{r.price}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":["useEffect","useState","supabase","PropertyCalendar","LeadsTab","OWNER_ID","OwnerDashboard","tab","setTab","properties","setProperties","propertyId","setPropertyId","rooms","setRooms","roomName","setRoomName","roomPrice","setRoomPrice","fetchProperties","fetchRooms","data","from","select","eq","pid","order","addRoom","alert","insert","property_id","name","price","Number","is_active","e","target","value","map","p","id","l","status","r"],"mappings":"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","ignoreList":[]}}]
}