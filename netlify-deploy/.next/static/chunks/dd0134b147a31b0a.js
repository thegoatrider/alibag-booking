(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},79474,(e,t,a)=>{"use strict";var s=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;a.c=function(e){return s.H.useMemoCache(e)}},932,(e,t,a)=>{"use strict";t.exports=e.r(79474)},58249,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(71645),l=e.i(18566),i=e.i(17927);async function c(e,t,a){let{data:s}=await i.supabase.from("rooms").select("id, room_name, hotel_id, hotels(name)").eq("hotels.bucket_id",e);if(!s||0===s.length)return[];s.map(e=>e.id);let{data:l}=await i.supabase.from("bookings").select("room_id").lt("check_in",a).gt("check_out",t),c=l?.map(e=>e.room_id)||[],{data:o}=await i.supabase.from("blocked_dates").select("room_id").gte("date",t).lt("date",a),r=o?.map(e=>e.room_id)||[];return s.filter(e=>!c.includes(e.id)&&!r.includes(e.id))}function o(){let e,i,o,n,d,m,u,h,_,b,f=(0,a.c)(21),{bucketId:p}=(0,l.useParams)(),x=(0,l.useSearchParams)();f[0]!==x?(e=x.get("in"),f[0]=x,f[1]=e):e=f[1];let N=e;f[2]!==x?(i=x.get("out"),f[2]=x,f[3]=i):i=f[3];let g=i;f[4]===Symbol.for("react.memo_cache_sentinel")?(o=[],f[4]=o):o=f[4];let[j,y]=(0,s.useState)(o),[S,v]=(0,s.useState)(!0);if(f[5]!==p||f[6]!==N||f[7]!==g?(n=()=>{(async()=>{y(await c(p,N,g)),v(!1)})()},d=[p,N,g],f[5]=p,f[6]=N,f[7]=g,f[8]=n,f[9]=d):(n=f[8],d=f[9]),(0,s.useEffect)(n,d),S){let e;return f[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"p-10",children:"Checking availability..."}),f[10]=e):e=f[10],e}return f[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Available Rooms"}),f[11]=m):m=f[11],f[12]!==j.length?(u=0===j.length&&(0,t.jsx)("p",{className:"text-gray-500",children:"No rooms available for selected dates."}),f[12]=j.length,f[13]=u):u=f[13],f[14]!==j?(h=j.map(r),f[14]=j,f[15]=h):h=f[15],f[16]!==h?(_=(0,t.jsx)("div",{className:"space-y-4",children:h}),f[16]=h,f[17]=_):_=f[17],f[18]!==u||f[19]!==_?(b=(0,t.jsxs)("main",{className:"p-10",children:[m,u,_]}),f[18]=u,f[19]=_,f[20]=b):b=f[20],b}function r(e){return(0,t.jsxs)("div",{className:"border rounded-xl p-6 flex justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold",children:e.hotels.name}),(0,t.jsx)("p",{className:"text-gray-500",children:e.room_name})]}),(0,t.jsx)("button",{className:"bg-black text-white px-4 py-2 rounded",children:"Select"})]},e.id)}e.s(["default",()=>o],58249)}]);